provisioner: azure
name: publish-artifact
version: 1
revision: 1
displayName: publish-artifact
description: This plugin to publish universal artifact
target: ""
category: publish
keywords:
  - Publish
  - universal
author: CloudCover
meta: {}
inputs:
  properties:
    feed:
      title: Feed Id
      description: Id of the azure devops package feed
      type: string
    pool_name:
      title: Pool Name
      description: Use selfhosted agent by proving agent pool name.
      type: string
      default: ""
  required:
    - feed
template: |-
  steps:
  - task: UniversalPackages@0
    inputs:
      command: 'publish'
      publishDirectory: '$(System.DefaultWorkingDirectory)'
      feedsToUsePublish: 'internal'
      vstsFeedPublish: '{{feed}}'
      vstsFeedPackagePublish: 'build$(sha_tag).zip'
      packagePublishDescription: '$(sha_tag)'
      versionOption: 'minor'
      publishedPackageVar: 'codepipes'
  