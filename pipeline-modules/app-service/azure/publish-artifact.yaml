provisioner: azure
name: publish-artifact
version: 1
revision: 1
displayName: publish-artifact
description: This plugin to publish azure universal artifact
target: ""
category: publish
keywords:
  - Publish
  - universal
author: CloudCover
meta: {}
inputs:
  properties:
    pool_name:
      title: Pool Name
      description: Use selfhosted agent by proving agent pool name.
      type: string
      default: ""
    applicationName:
      title: Application name
      description: Code Pipes application name
      type: string
  internal:
    - applicationName
template: |-
  steps:
  - task: UniversalPackages@0
    inputs:
      command: 'publish'
      publishDirectory: '$(System.DefaultWorkingDirectory)'
      feedsToUsePublish: 'internal'
      vstsFeedPublish: '$(CPI__artifact_feed)'
      vstsFeedPackagePublish: '{{applicationName}}.zip'
      packagePublishDescription: '$(sha_tag)'
      versionOption: 'minor'
      publishedPackageVar: 'codepipes'